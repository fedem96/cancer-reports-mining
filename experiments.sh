### EXPERIMENTS - CLASSIFICATIONS ###

# grading
python3 train.py -m models.tree.DecisionTree -ma '{"max_depth":3,"min_samples_leaf":0.01}' -tc grading -gb id_paz -ds 0 -ns 0 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.rf.RandomForest -ma '{"max_depth":15,"min_samples_leaf":5,"max_features":0.1,"n_estimators":100}' -tc grading -gb id_paz -ds 0 -ns 0 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc grading -gb id_paz -ds 0 -ns 0 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"C":1e-3,"max_iter":4000,"class_weight":"balanced"}' -tc grading -gb id_paz -ds 0 -ns 0 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"C":1e-3,"max_iter":4000,"class_weight":"balanced"}' -tc grading -gb id_paz -ds 0 -ns 0 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc grading -gb id_paz -pr max -ds 0 -ns 0 -b 32 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -e 50 -df bag -cr -cd 0.2 -ap 1e-8 -ng 3 -l2p 1e-5 -cl2p 1e-3 -mo Accuracy -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc grading -ml 128 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -lp '{"grading":[{"type":"filter","valid_set":[1,2,3]}]}' -e 100 -cd 0.2 -l2p 1e-4 -ic diagnosi macroscopia -ms 32 -cl2p 1e-3 -mo Accuracy -te

# stadio_N
python3 train.py -m models.tree.DecisionTree -ma '{"max_depth":4,"min_samples_leaf":0.01,"class_weight":"balanced"}' -tc stadio_N -gb id_paz -ds 0 -ns 0 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.rf.RandomForest -ma '{"max_depth":20,"min_samples_leaf":5,"max_features":0.1,"n_estimators":100}' -tc stadio_N -gb id_paz -ds 0 -ns 0 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc stadio_N -gb id_paz -ds 0 -ns 0 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"C":1e-3,"max_iter":4000,"class_weight":"balanced"}' -tc stadio_N -gb id_paz -ds 0 -ns 0 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc stadio_N -gb id_paz -pr max -ds 0 -ns 0 -b 32 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -e 30 -df bag -cr -cd 0.2 -ap 1e-7 -ng 3 -l2p 1e-4 -cl2p 1e-3 -mo Accuracy -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc stadio_N -ml 256 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -lp '{"stadio_N":[{"type":"regex_sub","subs":[["0.*","n0"],["1MI*","n1mi"],["1.*","n1"],["2.*","n2"],["3.*","n3"]]},{"type":"filter","valid_set":["n0","n1mi","n1","n2","n3"]}]}' -e 100 -cd 0.2 -ic diagnosi macroscopia -ms 32 -l2p 1e-4 -cl2p 1e-3 -mo Accuracy -te

# stadio_T
python3 train.py -m models.tree.DecisionTree -ma '{"max_depth":4,"min_samples_leaf":0.01,"class_weight":"balanced"}' -tc stadio_T -gb id_paz -ds 0 -ns 0 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.rf.RandomForest -ma '{"max_depth":20,"min_samples_leaf":5,"max_features":0.1,"n_estimators":100}' -tc stadio_T -gb id_paz -ds 0 -ns 0 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc stadio_T -gb id_paz -ds 0 -ns 0 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"max_iter":4000}' -tc stadio_T -gb id_paz -ds 0 -ns 0 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}'  -ic diagnosi macroscopia -df bag -cr -ng 3 -te #l1
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc stadio_T -gb id_paz -pr max -ds 0 -ns 0 -b 32 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}' -e 40 -df bag -cr -cd 0.2 -ap 1e-8 -ng 3 -l2p 1e-5 -cl2p 1e-3 -mo Accuracy -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc stadio_T -ml 256 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -lp '{"stadio_T":[{"type":"regex_sub","subs":[["is.*","tis"],["0.*","t0"],["1.*","t1"],["2.*","t2"],["3.*","t3"],["4.*","t4"]]},{"type":"filter","valid_set":["tis","t1","t2","t3","t4"]}]}' -e 100 -ap 1e-7 -cd 0.2 -ic diagnosi macroscopia -ms 32 -l2p 1e-4 -cl2p 1e-3 -mo Accuracy -te

# tipo_T
python3 train.py -m models.tree.DecisionTree -ma '{"class_weight":"balanced","max_depth":2}' -tc tipo_T -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 1 -te
python3 train.py -m models.rf.RandomForest -ma '{"class_weight":"balanced","max_depth":5,"max_features":0.3,"n_estimators":100}' -tc tipo_T -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc tipo_T -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"max_iter":4000,"C":0.01}' -tc tipo_T -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te #l1
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc tipo_T -gb id_paz -pr max -ds 0 -ns 0 -b 32 -e 50 -df bag -cd 0.2 -ap 1e-8 -ng 3 -l2p 1e-5 -cl2p 1e-3 -mo F1 -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc tipo_T -ml 256 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -e 100 -cd 0.2 -ic diagnosi macroscopia -ms 32 -ap 1e-7 -l2p 1e-4 -cl2p 1e-3 -mo F1 -te

# numero_sentinella_asportati
python3 train.py -m models.tree.DecisionTree -ma '{"max_depth":4,"min_samples_leaf":25}' -tc numero_sentinella_asportati -gb id_paz -ds 0 -ns 0 -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.rf.RandomForest -ma '{"max_depth":20,"max_features":0.1,"n_estimators":100,"min_samples_leaf":5}' -tc numero_sentinella_asportati -gb id_paz -ds 0 -ns 0 -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc numero_sentinella_asportati -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"max_iter":4000,"C":0.1}' -tc numero_sentinella_asportati -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 4 -te #l1
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc numero_sentinella_asportati -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -gb id_paz -pr max -ds 0 -ns 0 -b 32 -e 100 -df bag -cr -cd 0.2 -ap 1e-7 -ng 3 -l2p 1e-5 -cl2p 1e-3 -mo Accuracy -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc numero_sentinella_asportati -lp '{"numero_sentinella_asportati":[{"type":"filter","valid_set":[1,2,3,4]}]}' -ml 256 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -e 800 -ap 1e-7 -cd 0.2 -ic diagnosi macroscopia -ms 32 -l2p 1e-4 -cl2p 1e-3 -mo F1 -te

# numero_sentinella_positivi
python3 train.py -m models.tree.DecisionTree -ma '{"max_depth":4,"min_samples_leaf":15,"class_weight":"balanced"}' -tc numero_sentinella_positivi -gb id_paz -ds 0 -ns 0 -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.rf.RandomForest -ma '{"max_depth":12,"max_features":0.3,"n_estimators":100,"min_samples_leaf":3,"class_weight":"balanced"}' -tc numero_sentinella_positivi -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.xgb.XGBoost -ma '{"randomh":true}' -tc numero_sentinella_positivi -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te
python3 train.py -m models.svm.SVM -ma '{"linear":true,"penalty":"l1","dual":false,"max_iter":4000,"C":0.01,"class_weight":"balanced"}' -tc numero_sentinella_positivi -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -gb id_paz -ds 0 -ns 0 -ic diagnosi macroscopia -df bag -cr -ng 3 -te #l1
python3 train.py -m models.nn.mlp.MultiLayerPerceptron -ma '{"hidden_sizes":[32,32]}' -lr 1e-4 -tc numero_sentinella_positivi -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -gb id_paz -pr max -ds 0 -ns 0 -b 32 -e 100 -df bag -cr -cd 0.2 -ap 1e-7 -ng 3 -l2p 1e-5 -cl2p 1e-3 -mo Accuracy -te
python3 train.py -m models.nn.transformer.Transformer -ma '{"embedding_dim":128,"dim_feedforward":128,"dropout":0.1,"num_heads":4,"n_layers":3,"encode_position":true}' -lr 1e-4 -tc numero_sentinella_positivi -lp '{"numero_sentinella_positivi":[{"type":"filter","valid_set":[0,1,2]}]}' -ml 256 -gb id_paz -pt max -pr max -ds 0 -ns 0 -b 64 -e 800 -ap 1e-7 -cd 0.2 -ic diagnosi macroscopia -ms 32 -l2p 1e-4 -cl2p 1e-3 -mo M-F1 -te


### EXPERIMENTS - FIND NUMBER ###
python3 manual_predictions.py -te
